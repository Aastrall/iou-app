<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IOU | Hyper-Neon Finance</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-database-compat.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyC_O89rLpoYzVZ4ERKBmirOIGhOwwulCIs",
            authDomain: "iou-app-b7ed2.firebaseapp.com",
            databaseURL: "https://iou-app-b7ed2-default-rtdb.firebaseio.com",
            projectId: "iou-app-b7ed2",
            storageBucket: "iou-app-b7ed2.firebasestorage.app",
            messagingSenderId: "607906588480",
            appId: "1:607906588480:web:a64b8ca13884ef5582fca5"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.database();
    </script>

    <style>
        :root { --neon: #00FF41; --bg: #000000; }
        body { background-color: var(--bg); color: var(--neon); font-family: sans-serif; overflow-x: hidden; }
        .glass { background: rgba(0, 255, 65, 0.05); border: 1px solid rgba(0, 255, 65, 0.3); backdrop-filter: blur(10px); }
        .neo-btn { background-color: var(--neon); color: #000; font-weight: 900; box-shadow: 0 0 15px rgba(0, 255, 65, 0.4); }
        .page { display: none; }
        .page.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* Text Logo Styling */
        .text-logo { 
            font-size: 5rem; 
            font-weight: 900; 
            font-style: italic; 
            letter-spacing: -4px; 
            color: var(--neon); 
            text-shadow: 0 0 20px var(--neon);
            line-height: 1;
            margin-bottom: 2rem;
        }

        input { background: #0a0a0a !important; border: 1px solid var(--neon) !important; color: white !important; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="min-h-screen">

    <div id="authSection" class="fixed inset-0 z-[5000] bg-black flex items-center justify-center p-6 text-center">
        <div class="w-full max-w-md">
            <div class="text-logo">IOU</div>
            
            <h1 id="authTitle" class="text-2xl font-black italic mb-8 tracking-widest uppercase">SIGN IN</h1>
            
            <div id="loginForm" class="glass p-8 rounded-[2rem]">
                <input type="email" id="email" placeholder="EMAIL ADDRESS" class="w-full p-4 rounded-xl mb-4 font-bold uppercase outline-none">
                <input type="password" id="pass" placeholder="PASSWORD" class="w-full p-4 rounded-xl mb-2 font-bold outline-none">
                <div class="text-right mb-6"><button onclick="forgotPass()" class="text-[10px] font-bold uppercase underline">Reset Password?</button></div>
                <button id="mainBtn" onclick="handleAuth()" class="w-full neo-btn py-4 rounded-xl uppercase mb-4">Authorize</button>
                <p class="text-xs font-bold opacity-60">
                    <span id="tText">NEW TO THE NETWORK?</span> 
                    <button onclick="toggleAuth()" id="tBtn" class="underline ml-1">CREATE ACCOUNT</button>
                </p>
            </div>
            
            <div id="infoBox" class="hidden glass p-8 rounded-[2rem]">
                <p id="infoTitle" class="font-black mb-4 uppercase"></p>
                <button onclick="location.reload()" class="neo-btn px-6 py-2 rounded-xl text-xs">BACK</button>
            </div>
        </div>
    </div>

    <div id="app" class="hidden h-screen flex flex-col">
        <header class="p-6 border-b border-white/10 flex justify-between items-center bg-black">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full border border-[#00FF41] flex items-center justify-center font-black text-[10px]">IOU</div>
                <p id="hName" class="font-black text-xs text-white uppercase tracking-widest">USER</p>
            </div>
            <button onclick="auth.signOut().then(()=>location.reload())" class="text-[10px] font-black border border-white/20 px-4 py-1 rounded-full">EXIT</button>
        </header>

        <main class="flex-1 overflow-y-auto p-6 pb-24 no-scrollbar">
            <section id="page-home" class="page active">
                <div class="glass p-8 rounded-[2rem] text-center mb-8 border-2 border-[#00FF41]">
                    <p class="text-[10px] font-black opacity-50 mb-1 uppercase tracking-widest">Balance</p>
                    <h2 id="bal" class="text-6xl font-black text-white">$0.00</h2>
                </div>
                <div class="grid grid-cols-3 gap-4 text-center mb-10">
                    <button onclick="navTo('finance')" class="text-2xl">üí≥</button>
                    <button onclick="navTo('social')" class="text-2xl">üí¨</button>
                    <button onclick="navTo('save')" class="text-2xl">üéØ</button>
                </div>
                <div id="fList" class="space-y-4"></div>
            </section>

            <section id="page-social" class="page">
                <div class="flex gap-2 mb-6">
                    <input id="fInput" placeholder="FRIEND ID" class="flex-1 p-3 rounded-xl uppercase text-xs">
                    <button onclick="addFriend()" class="neo-btn px-6 rounded-xl font-black">+</button>
                </div>
                <div id="socialList" class="space-y-4"></div>
            </section>

            <section id="page-save" class="page">
                <div class="glass p-8 rounded-[2rem] border-2 border-[#00FF41] text-center">
                    <h2 class="font-black mb-4 uppercase">Savings Goal</h2>
                    <div class="w-full bg-white/10 h-3 rounded-full overflow-hidden mb-4">
                        <div id="sBar" class="bg-[#00FF41] h-full" style="width:0%"></div>
                    </div>
                    <button onclick="deposit()" class="neo-btn px-6 py-2 rounded-xl text-[10px]">DEPOSIT $50</button>
                </div>
            </section>
        </main>

        <nav class="fixed bottom-0 inset-x-0 p-6 glass border-t border-white/10 flex justify-around bg-black">
            <button onclick="navTo('home')">üè†</button>
            <button onclick="navTo('social')">üë•</button>
            <button onclick="navTo('save')">üéØ</button>
        </nav>
    </div>

    <script>
        let isSignUp = false;

        function toggleAuth() {
            isSignUp = !isSignUp;
            document.getElementById('authTitle').innerText = isSignUp ? "SIGN UP" : "SIGN IN";
            document.getElementById('mainBtn').innerText = isSignUp ? "Create Account" : "Authorize";
            document.getElementById('tText').innerText = isSignUp ? "ALREADY HAVE AN ACCOUNT?" : "NEW TO THE NETWORK?";
            document.getElementById('tBtn').innerText = isSignUp ? "SIGN IN" : "CREATE ACCOUNT";
        }

        async function forgotPass() {
            const e = document.getElementById('email').value.trim();
            if(!e) return alert("Enter email first.");
            await auth.sendPasswordResetEmail(e);
            showInfo("RESET SENT", "Check your inbox for a recovery link.");
        }

        function showInfo(t, s) {
            document.getElementById('loginForm').classList.add('hidden');
            document.getElementById('infoBox').classList.remove('hidden');
            document.getElementById('infoTitle').innerText = t;
        }

        async function handleAuth() {
            const e = document.getElementById('email').value.trim();
            const p = document.getElementById('pass').value;
            if(!e || !p) return alert("Enter credentials");
            try {
                if(isSignUp) {
                    const uc = await auth.createUserWithEmailAndPassword(e, p);
                    await uc.user.sendEmailVerification();
                    showInfo("VERIFY EMAIL", "Activate your account via your inbox.");
                } else {
                    const uc = await auth.signInWithEmailAndPassword(e, p);
                    if(uc.user.emailVerified) showApp(uc.user);
                    else { alert("Please verify your email."); auth.signOut(); }
                }
            } catch (err) { alert(err.message); }
        }

        function showApp(user) {
            document.getElementById('authSection').classList.add('hidden');
            document.getElementById('app').classList.remove('hidden');
            document.getElementById('hName').innerText = user.email.split('@')[0];
        }

        function deposit() {
            let b = document.getElementById('bal');
            let current = parseFloat(b.innerText.replace('$', ''));
            b.innerText = `$${(current + 50).toFixed(2)}`;
            document.getElementById('sBar').style.width = "40%";
        }

        function navTo(p) { 
            document.querySelectorAll('.page').forEach(pg=>pg.classList.remove('active')); 
            document.getElementById('page-'+p).classList.add('active'); 
        }

        auth.onAuthStateChanged(u => { if(u && u.emailVerified) showApp(u); });
    </script>
</body>
</html>
